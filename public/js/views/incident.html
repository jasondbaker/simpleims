<div ng-controller="getIncident">

	<div class="page-header">
		<h2>Incident #{{incident.id}}</h2>
	</div>
	
	<form class="form-horizontal" role="form">
		
		<div class="form-group">
			<label class="col-sm-2 control-label">Startdate</label>
			<div class="col-sm-10 form-control-static">
				{{incident.startdate | date:'short'}}
			</div>
		</div>
		
		<div class="form-group">
			<label class="col-sm-2 control-label">Status</label>
			<div class="col-sm-10 form-control-static">
				{{incident.status}}
			</div>
		</div>
		
		<div class="form-group">
			<label class="col-sm-2 control-label">Requester</label>
			<div class="col-sm-10 form-control-static">
				{{incident.requester.fullname}}, {{company[0].name}}
			</div>
		</div>
		
		<div class="form-group">
			<label for="inputPriority" class="col-sm-2 control-label">Priority</label>
			<div class="col-sm-10 form-control-static">
				<select ng-model="incident.priority">
					<option>1</option>
					<option>2</option>
					<option>3</option>
				</select>
			</div>
		</div>
		
		<div class="form-group">
			<label for="inputAgent" class="col-sm-2 control-label">Agent</label>
			<div class="col-sm-10 form-control-static">
				<select ng-model="selectedAgent"
						ng-options="agent.username as agent.fullname for agent in agents">
				</select>
			</div>
		</div>
		
		
		<div class="form-group">
			<label for="inputSubject" class="col-sm-2 control-label">Subject</label>
			<div class="col-sm-10">
				<input type="text" ng-model="incident.subject" class="form-control" id="inputsubject">
			</div>
		</div>
			
		<div class="form-group">
			<label for="inputDescription" class="col-sm-2 control-label">Description</label>
			<div class="col-sm-10">
				<textarea class="form-control" ng-model="incident.description" rows="4"></textarea>
			</div>
		</div>
				
	</form>
	
	<div class="row">
		
		<div class="col-sm-8 col-sm-offset-1">
		
			<h4>Actions</h4>
				
			<table class="table table-hover">
			
			<tr ng-repeat="action in incident.actions | orderBy:'-startdate'">
				<td>
				{{action.startdate | date:'short'}}  {{action.agent.fullname}}
				<br/>
				{{action.description}}
				</td>
			</tr>
			
			</table>
			
			<div ng-hide="incident.actions.length">No actions found.</div>
		</div>
	</div>
</div>	